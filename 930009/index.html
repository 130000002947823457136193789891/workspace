<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8" />
		<title></title>
	</head>
	<body>
		<p>计数：<output id="result"></output></p>
		<button onclick="startWorker()">开始 Worker</button>
		<button onclick="stopWorker()">停止 Worker</button>
		<br /><br />
		
		<script>
			var w;
			
			function startWorker()
			{
				if(typeof(Worker)!=="undefied")
				{
					if(typeof(w)=="undefied")
					{
						w=new Worker("/js/demo_workers.js");
						
					}
					w.onmessage=function(event){
						document.getElementById("result").innerHTML=event.data;
					};
				}
				else{
					document.getElementById("result").innerHTML="sorry,your browser
					 does not support web workers...";
				}
			}
			
			function stopWorker()
			{
				w.teminate();
			}
		</script>
	</body>
</html>
